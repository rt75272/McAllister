<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<div class="container">
    <h2>Register</h2>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="feedback incorrect">
                    {% for message in messages %}
                        <p>{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        <form method="POST">
            <input type="text" name="username" placeholder="Username" required><br>
            <input type="password" name="password" id="password" placeholder="Password" required><br>
            <input type="password" name="password2" id="password2" placeholder="Confirm Password" required><br>
            <span id="pw-match-message" class="feedback"></span><br>
            <input type="submit" value="Register">
        </form>

        <script>
        const pw1 = document.getElementById('password');
        const pw2 = document.getElementById('password2');
        const msg = document.getElementById('pw-match-message');
        function checkMatch() {
            if (pw1.value && pw2.value) {
                if (pw1.value === pw2.value) {
                    msg.textContent = 'Passwords match.';
                    msg.className = 'feedback correct';
                } else {
                    msg.textContent = 'Passwords do not match.';
                    msg.className = 'feedback incorrect';
                }
            } else {
                msg.textContent = '';
                msg.className = 'feedback';
            }
        }
        pw1.addEventListener('input', checkMatch);
        pw2.addEventListener('input', checkMatch);
        </script>
    <a href="{{ url_for('login') }}">Already have an account? Login</a>
</div>
